!function(){"use strict";var n=function(){var n=this;return n.config={query_selector:"nav.steps label"},n.data={},n.fn={},n.run=function(){$.get("/baby-steps.json",function(e){n.data.response=e,n.fn.updateFriendMessages()}).fail(function(){})},n.fn.updateFriendMessages=function(){if(void 0!==n.data.response){var e=_(n.data.response.friends).groupBy("babyStep").value();_.forEach(e,function(e,a){e.sort(n.fn.sortAscendingByLastName),n.fn.addMessageToSteps(a,n.fn.buildMessage(e,a))})}},n.fn.sortAscendingByLastName=function(n,e){var a=n.lastName<e.lastName?-1:n.lastName>e.lastName?1:0;return a},n.fn.buildMessage=function(e,a){if(0===e.length)return null;e=n.fn.getNames(e);var t=" is also in Baby Step "+a;if(1===e.length)return n.fn.addFriendsLink(e[0])+t;if(t=" are also in Baby Step "+a,2===e.length)return n.fn.addFriendsLink(e.join('</a> and <a href="#">'))+t;if(e.length>2){var s=_(e).splice(2).value(),r=_(e).join('</a>, <a href="#">');return n.fn.addFriendsLink(r)+n.fn.addSecondaryMessage(s)+t}},n.fn.getNames=function(n){return n.map(function(n){return n.firstName+" "+n.lastName})},n.fn.addFriendsLink=function(n){return'<a href="#">'+n+"</a>"},n.fn.addSecondaryMessage=function(n){return 1===n.length?" and 1 other friend":n.length>1?" and "+n.length+" other friends":void 0},n.fn.addMessageToSteps=function(n,e){$("#step"+n).append('<p class="friend_info">'+e+"</p>")},n};(new n).run()}();
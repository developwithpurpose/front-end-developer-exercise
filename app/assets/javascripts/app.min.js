var app={config:{allStepItems:$("nav li"),mainNavigation:$("nav li a"),stepCount:$("nav li a").data("step"),stepContent:$(".content--main section"),stepSection:$(".content--main section").data("section"),json:"../baby-steps.json"},init:function(a){app.stepTransition(),app.getFriends()},stepTransition:function(){app.config.mainNavigation.click(function(a){if(a.preventDefault(),$(this).parent().hasClass("active"))return!1;Modernizr.csstransitions?($(".content--main section.active").addClass("fade-out-up").removeClass("active"),$(".content--main section#step"+$(this).data("step")).removeClass("hidden").addClass("active")):($(".content--main section.active").animate({top:"-500px",opacity:0},{duration:700,easing:"easeInQuart"}).removeClass("active"),$(".content--main section#step"+$(this).data("step")).delay(700).animate({top:"0",opacity:1},{duration:700,easing:"easeOutQuart"}).addClass("active")),app.config.allStepItems.removeClass("active"),$(this).parent().addClass("active active--step"+$(this).data("step"))})},getFriends:function(){$.getJSON(app.config.json,function(a){var t={},e=a.friends;e=_.sortBy(e,["babyStep","lastName"]),t=app.buildFriendsObj(e),app.addFriendsToStep(t)})},buildFriendsObj:function(a){var t;return _.transform(a,function(a,e){t=e.firstName+" "+e.lastName,(a[e.babyStep]||(a[e.babyStep]=[])).push(t)},{})},addFriendsToStep:function(a){_.each(a,function(a,t){var e;2==t?e="<a href='#'>"+a[0]+"</a> is also in Baby Step "+t:3==t?e="<a href='#'>"+a[0]+"</a> and <a href='#'>"+a[1]+"</a> are also in Baby Step "+t:4==t?e="<a href='#'>"+a[0]+"</a>, <a href='#'>"+a[1]+"</a> and 1 other friend are also in Baby Step "+t:t>4&&(e="<a href='#'>"+a[0]+"</a>, <a href='#'>"+a[1]+"</a> and "+(a.length-2)+" other friends are also in Baby Step "+t),$("<p class='friends'>"+e+"</p>").appendTo("#step"+t+" .step--content")})}};$(document).ready(function(){app.init()});
"use strict";function sortNames(a,b){var aName=a.lastName.toLowerCase(),bName=b.lastName.toLowerCase();return aName<bName?-1:aName>bName?1:0}function loadJson(nextStep){$.getJSON("baby-steps.json").done(function(data){$.each(data,function(){var sortedFriends=data.friends.sort(sortNames),totalFriends=0,stepFriends=[],otherFriends;$.each(sortedFriends,function(key,val){var lastName=val.lastName,firstName=val.firstName,stepNum=val.babyStep;if(stepNum===nextStep){stepFriends.push(firstName+" "+lastName)}});totalFriends=stepFriends.length;if(totalFriends===1){$("#step"+nextStep+" .friends").html('<a href="#">'+stepFriends[0]+"</a> is also in Baby Step "+nextStep)}else if(totalFriends===2){$("#step"+nextStep+" .friends").html('<a href="#">'+stepFriends[0]+'</a> and <a href="#">'+stepFriends[1]+"</a> are also in Baby Step "+nextStep)}else if(totalFriends===3){$("#step"+nextStep+" .friends").html('<a href="#">'+stepFriends[0]+'</a>, <a href="#">'+stepFriends[1]+"</a>, and one other friend are also in Baby Step "+nextStep)}else if(totalFriends>3){otherFriends=totalFriends-2;$("#step"+nextStep+" .friends").html('<a href="#">'+stepFriends[0]+'</a>, <a href="#">'+stepFriends[1]+"</a>, and "+otherFriends+" other friends are also in Baby Step "+nextStep)}})}).fail(function(){$(".friends").hide();console.log("Oops...we had some trouble loading external data for friends.")})}function changeStep(prevStep,nextStep){$("#step"+prevStep).fadeOut(300,function(){$("#step"+nextStep).fadeIn("slow")})}function changeNav(prevStep,nextStep){$("nav a#nav-step"+prevStep).removeClass("active");if(nextStep!==1){$(".highlight").css({top:(nextStep-1)*61,height:"60px"})}else{$(".highlight").css({height:"58px",top:"2px"})}$("nav a#nav-step"+nextStep).addClass("active")}$(function(){var curIndex,nextIndex;$(".highlight").fadeIn();$("#nav-step1").addClass("active");$("#baby-steps article").not(document.getElementById("step1")).hide();$("nav a").click(function(e){e.preventDefault();curIndex=$("nav a.active").parent().index()+1;nextIndex=$(this).parent().index()+1;if(curIndex!==nextIndex){loadJson(nextIndex);changeStep(curIndex,nextIndex);changeNav(curIndex,nextIndex)}});loadJson(1)});
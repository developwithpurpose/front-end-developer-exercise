var BabySteps={};BabySteps.currentStep=null,BabySteps.friendContainer=null,BabySteps.fetching=null,BabySteps.myFriendsObj=null,BabySteps.currentFriends=null,BabySteps.friendsText=null,BabySteps.init=function(){BabySteps.util.attachClickJQ(".navigation a",BabySteps.navHandler),this.currentStep=1,this.friendContainer=$(".step-1-content .dynamic-content"),BabySteps.util.fetchFriends().done(BabySteps.successHandler).fail(function(a,b,c){})},BabySteps.navHandler=function(a){var b=$(a.currentTarget).position().top,c=$(".highlighter"),d=$(a.currentTarget).attr("href").replace("#","."),e=$(d).position().top,f=$(".slide-wrapper");document.all&&!window.atob?(c.animate({top:b+"px"},800),f.animate({top:-e+"px"},800)):(c.css({top:b+"px"}),f.css({top:-e+"px"})),$(".navigation li.active").toggleClass("active"),$(a.currentTarget).parent().addClass("active"),BabySteps.currentStep=parseInt(d.match(/[0-9]/)[0]),BabySteps.friendContainer=$(d+" .dynamic-content"),BabySteps.util.fetchFriends().done(BabySteps.successHandler).fail(function(a,b,c){})},BabySteps.friendHandler=function(a){a.preventDefault()},BabySteps.successHandler=function(a){BabySteps.myFriendsObj=a.friends,BabySteps.myFriendsObj.sort(function(a,b){return a.babyStep-b.babyStep}),BabySteps.currentFriends=BabySteps.util.filterFriends(BabySteps.myFriendsObj,BabySteps.currentStep),BabySteps.friendsText=BabySteps.util.compileFriends(BabySteps.currentFriends),BabySteps.friendContainer.html(BabySteps.friendsText),BabySteps.util.attachClickJQ(".dynamic-content a",BabySteps.friendHandler),BabySteps.fetching=null},BabySteps.util={},BabySteps.util.filterFriends=function(a,b){for(var c,d=[],e=0,f=a.length;f>e;e++)if(c=a[e],c.babyStep===b)d.push(c);else if(c.babyStep>b)break;return d},BabySteps.util.fetchFriends=function(){var a=window.location.href.split("#")[0],b=a+"assets/javascripts/baby-steps.json";return BabySteps.fetching?void 0:$.ajax({url:b,type:"GET",dataType:"json"})},BabySteps.util.commaSeparated=function(a,b,c){var d;return d=a.split(b).join(c)},BabySteps.util.compileFriends=function(a){var b,c,d,e="",f=1===a.length?"is":"are";if(a.length){for(var g=0,h=a.length;h>g;g++){if(b=a[g],2>g&&0!==g)e+=" and ";else if(g>1)break;e+="<a href=''>"+b.firstName+" "+b.lastName+"</a>"}a.length>2&&(c=a.length>3?"Friends":"Friend",d=a.length-2,e=this.commaSeparated(e," and ",", "),e+=", and "+d+" Other "+c),e+=" "+f+" also in Baby Step "+BabySteps.currentStep}return e},BabySteps.util.attachClickJQ=function(a,b){$(a).on("click",function(a){a.preventDefault(),b(a)})},$(function(){BabySteps.init(),$("html").is(".ie8")&&$(".page-wrapper").addClass("z").removeClass("z")});
function buildListOfFriends(){var a,b,c,d,e=[],g=0,h=" also in Baby Step "+myCurStep+".";for(f.friends.sort(sortNames),e.length=0,d=0;d<f.friends.length;d++)f.friends[d].babyStep===myCurStep&&(e.push(2>g?'<a href="#">'+f.friends[d].firstName+" "+f.friends[d].lastName+"</a>":f.friends[d].firstName+" "+f.friends[d].lastName),g++);!e.length||1===myCurStep||myCurStep>7?message.removeClass("active"):(b=e.length>1?" are ":" is ",c=3===e.length?" friend":" friends ",e.length>=3?(a=e.slice(2).join(", "),message.html(e.slice(0,2).join(", ")+' and <span class="other-friends" data-tipsy="'+a+'">'+(e.length-2)+" other "+c+"</span>"+b+h)):message.html(e.slice(0,2).join(" and ")+b+h),showFriendsMessage())}function showFriendsMessage(){window.setTimeout(function(){message.toggleClass("hidden active")},250)}function sortNames(a,b){return a.lastName<b.lastName?-1:a.lastName>b.lastName?1:0}var message=$("p#friends"),myCurStep,f;$(document).ready(function(){$(".content .baby-step:gt(0), p#friends").addClass("hidden"),$.getJSON("assets/javascripts/baby-steps.json").done(function(a){f=a}),$("main nav a").click(function(){var a=$(this),b=a.attr("href").split("#")[1];return $("main nav a").removeClass("active"),a.addClass("active"),$(".content .baby-step").add(message).removeClass("active").addClass("hidden"),$(".content .baby-step#"+b).removeClass("hidden").addClass("active"),myCurStep=parseInt(a.attr("href").split("-")[2],10),buildListOfFriends(),!1})});